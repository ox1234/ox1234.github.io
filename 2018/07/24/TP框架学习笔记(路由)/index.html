<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="flight"><link rel="alternative" href="/atom.xml" title="技术改变世界，文化改变人心" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>TP框架学习笔记(路由) - 技术改变世界，文化改变人心</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">技术改变世界，文化改变人心</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-07-24T14:41:57.890Z">July 24, 2018</time><h1 class="post__title"><a href="/2018/07/24/TP框架学习笔记(路由)/">TP框架学习笔记(路由)</a></h1><div class="post__main echo"><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="URL的三种模式"><a href="#URL的三种模式" class="headerlink" title="URL的三种模式"></a>URL的三种模式</h3><ul>
<li><p>动态URL</p>
<p>  <code>eg: www.example.com/index.php?id=1</code></p>
<p>  这种在URL中使用”?,=,&amp;”等传递参数的URL被称为动态路由</p>
</li>
<li><p>静态URL</p>
<p>  <code>eg: www.example.com/index.html</code></p>
<p>  这种常以”.html,.htm,.xml”结尾的网站与后台没有交互，不需要编译即可运行</p>
</li>
<li><p>伪静态URL</p>
<p>  <code>eg: www.example.com/post/1</code></p>
<p>  这种URL看起来像是静态页面，但是其实不是静态页面，只是运用了URL Rewrite技术来优化搜索引擎</p>
</li>
</ul>
<h3 id="TP的路由"><a href="#TP的路由" class="headerlink" title="TP的路由"></a>TP的路由</h3><ul>
<li>普通模式：<code>http://www.example.com/index.php?m=home&amp;c=index&amp;a=index</code></li>
<li>pathinfo模式：<code>http://www.example.com/index.php/home/index/index</code></li>
<li>rewrite模式：<code>http://www.example.com/home/index/index</code></li>
<li>兼容模式：<code>http://www.example.com/index.php?s=home/index/index</code></li>
</ul>
<p>TP通过<code>URL_ROUTER_ON</code>来开启自定义路由规则，并且通过<code>URL_ROUTE_RULES</code>来定义路由的规则</p>
<p>路由定义的一般规则：<code>&quot;路由表达式&quot; =&gt; &quot;路由地址和参数&quot;</code></p>
<p>路由表达式：以何种规则匹配浏览器中的地址，如果匹配成功，系统在处理请求的同时把传入参数传给制定动作</p>
<p>路由表达式支持：规则路由，正则路由，静态路由</p>
<h4 id="规则路由"><a href="#规则路由" class="headerlink" title="规则路由"></a>规则路由</h4><p><code>eg: &#39;posts/:yead/:month/:day&#39; =&gt; &#39;Index/index&#39;</code></p>
<p>通过<code>:</code>来进行参数匹配，如果匹配成功，则将该为孩子的参数传给制定的动作</p>
<h4 id="正则路由"><a href="#正则路由" class="headerlink" title="正则路由"></a>正则路由</h4><p><code>eg: &#39;/^posts\/(\d{4})\/(\d{2})\/(\d{2})$/&#39; =&gt; &#39;Index/index?year=:1&amp;month=:2&amp;day=1&#39;</code></p>
<p>通过正则匹配来匹配URL</p>
<h4 id="静态路由"><a href="#静态路由" class="headerlink" title="静态路由"></a>静态路由</h4><p>注意：静态路由通过<code>URL_MAP_RULES</code>定义</p>
<p><code>eg: &#39;site/welcome&#39; =&gt; &#39;Index/index?from=seo</code></p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/tp/">tp</a></li><li class="post__tag__item"><a class="post__tag__link" href="/tags/php/">php</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 flight</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>